<ion-header>
    <ion-toolbar color="primary">
      <ion-item lines="none">
        <ion-buttons slot="start">
          <ion-menu-button menu="m1"></ion-menu-button>
        </ion-buttons>
        <!-- <ion-img style="height:3rem;width:180px;margin-top: 5px; object-fit: cover" src="assets/fleekslogo.png"></ion-img> -->
        <ion-col size ="12" size-sm="4" offset-sm ="4" text-center>
          <div id="divsearchInput">
            <ion-searchbar [(ngModel)]="searchtext"  (ionChange)="onSearchInput($event)"  [formControl]="searchControl"></ion-searchbar>
          </div>
        </ion-col>
        <ion-buttons  slot="end" *ngIf="currentUserDP"   color="success">
          <ion-img [src]="currentUserDP" class="img-head"></ion-img>
        </ion-buttons>
      </ion-item>
      <!-- <ion-buttons slot='start'>
        <ion-menu-button menu="m1"></ion-menu-button>
      </ion-buttons> 
      <div id="divToolBar">
        <ion-title id="theTitle" > Fleeks </ion-title>

      </div> -->
    </ion-toolbar>
  </ion-header>

  <!-- <ion-row>
    <ion-col>   
      <ion-item lines="none">
        <ion-buttons slot="start">
          <ion-menu-button menu="m1"></ion-menu-button>
        </ion-buttons>
        <ion-img style="height:3rem;width:180px;margin-top: 5px; object-fit: cover" src="assets/fleekslogo.png"></ion-img>
        <ion-buttons  slot="end" *ngIf="currentUserDP"   color="success">
          <ion-img [src]="currentUserDP" class="img-head"></ion-img>
        </ion-buttons>
      </ion-item>
    </ion-col>
  </ion-row> -->
  
  
  <ion-content>



    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
      <ion-refresher-content></ion-refresher-content>
    </ion-refresher>

    <!-- <ion-row id="rowsearch">
      <ion-col size ="12" size-sm="4" offset-sm ="4" text-center>
        <div id="divsearchInput">
          <ion-searchbar [(ngModel)]="searchtext"  (ionChange)="onSearchInput($event)"  [formControl]="searchControl"></ion-searchbar>
        </div>
      </ion-col>
    </ion-row> -->



    <ion-row>
      <ion-col size ="12" size-sm="8" offset-sm ="2">
        <div *ngIf="allCategory"   >
          <h2  *ngIf="Selectedcategory"  (click)="resetCategoryFilters(Selectedcategory)"  style="font-weight: bolder; font-size:xx-large;color: #474747  ; ">{{ Selectedcategory.name }}</h2>
        </div>
      </ion-col>
    </ion-row>


    <ion-row>
      <ion-col  size ="12" size-sm="8" offset-sm ="2">
        <ion-item lines="none">
          <ion-buttons slot="start">
            <!-- <ion-note (click)="onDisplayFilters()" style="font-weight: bold;" >category</ion-note> -->
            <ion-icon (click)="onDisplayFilters()" *ngIf="!onfilter" name="add-circle-outline"></ion-icon>
            <ion-icon (click)="onDisplayFilters()" *ngIf="onfilter"  color="primary" name="add-circle-outline"></ion-icon>
          </ion-buttons>
          <ion-item (click)="onOpenMapFiltersModal()" slot="end"lines="none">
            <!-- <ion-buttons  *ngIf="currentUserDP"   color="success">
              <ion-img [src]="currentUserDP" class="img-head"></ion-img>
            </ion-buttons> -->
            <!-- <ion-icon color="primary" src="assets/icons/world.svg"></ion-icon> -->
            <h4   style="margin-top: 10px" style="font-weight: bold;" >{{ currentAreaLocationName}}</h4>
          </ion-item>
          <ion-buttons (click)="onOpenFiltersModal()"  >
            <ion-icon color="primary" name="settings-outline"></ion-icon>
            <!-- <ion-note style="font-weight: bold;"  >filters</ion-note> -->
          </ion-buttons>
        </ion-item>
          <!-- <ion-note (click)="onDisplayFilters()" >filters</ion-note>
          <ion-icon (click)="onDisplayFilters()" *ngIf="!onfilter" name="add-circle-outline"></ion-icon>
          <ion-icon (click)="onDisplayFilters()" *ngIf="onfilter"  color="primary" name="add-circle-outline"></ion-icon> -->
      </ion-col>
    </ion-row>
    <div id="divSpinner" *ngIf="searching" class="spinner-container">
      <ion-spinner color="primary" ></ion-spinner>
    </div>



    <ion-row *ngIf="onfilter" >
      <ion-col size ="12" size-sm="8" offset-sm ="2" >
       <ion-slides [options]="{ slidesPerView: '3', zoom: false, grabCursor: true }">
          <ion-slide *ngFor="let category of categoryList"  >
            <ion-item class="diplayedCategory" (click)="onClickedCategory(category)" lines="none">
              <ion-icon slot="start" [src]="category.icon"></ion-icon>
              <ion-label>{{ category.name }}</ion-label>
            </ion-item>
        </ion-slide>
       </ion-slides>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col size ="12" size-sm="8" offset-sm ="2">
        
        <ion-img 
        role="button"
        class="location-image" 
        [src]="locationimage" 
        style="height: 8rem;object-fit: cover;border-radius: 5px indigo;"
        (click)="onPickLocation()"
        *ngIf="locationimage" 
        >
      </ion-img>
      </ion-col>
    </ion-row>

    <!-- <ion-grid *ngIf="isLoading">
      <ion-row > 
        <ion-col  size ="12" size-sm="8" offset-sm ="2" text-center>
            <div id="spinnerid">
                <ion-spinner color="primary"></ion-spinner>
            </div>
        </ion-col>
      </ion-row>
    </ion-grid> -->

  
    <ion-grid *ngIf="!isLoading && (!listedLoadedPosts  || listedLoadedPosts.length <=0) ">
      <ion-row>
        <ion-col size ="12" size-sm="8" offset-sm ="2" text-center>
           <h4>There are no available products right now, please come back later</h4>
        </ion-col>
      </ion-row>
    </ion-grid>
    <ion-grid>

      <ion-row>
        <ion-col size ="12" size-sm="8" offset-sm ="2" text-center>
        </ion-col>
      </ion-row>
    </ion-grid>
    <ion-grid>
        <ion-row>
            <ion-col size ="12" size-sm="8" offset-sm ="2" >

              <div class="pins">
                <div id="firstlayer" *ngFor="let post of listedLoadedPosts" > 
                         
                      <ion-card    >
                          <!-- <ion-img style="border-radius: 5px;"  (click)="onDetail(post.id)" [src]="post.product[0].productimage_set[0].image" ></ion-img> -->
                          <img style="border-radius: 5px;"  (click)="onDetail(post.id)" [src]="post.product[0].productimage_set[0].image" />
                      </ion-card>
                        <div id="toplay">
                          <ion-label >
                              <h3 >{{ post?.product[0].price  |currency }}</h3>
                          </ion-label>
                        </div>
                        <!-- <div   id="divViews" >
                          <ion-label >
                              <ion-item lines="none">
                                <ion-icon id="divViewsicon" name="eye-outline"></ion-icon>
                                <h3 >{{ post?.viewcount}}</h3>
                              </ion-item>
                          </ion-label>
                        </div> -->
                    
                </div>
              </div>

            </ion-col>
        </ion-row>
    </ion-grid>
  </ion-content>
 








