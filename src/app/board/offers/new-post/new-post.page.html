<ion-header>
  <ion-toolbar  color="primary">
    <ion-item text-center color="transparent">
      <ion-buttons *ngIf="selectedProduct" slot='start'>
        <ion-menu-button menu="m1"></ion-menu-button>
      </ion-buttons>  

        <ion-title>new Listing</ion-title>

      <ion-buttons *ngIf="selectedProduct" >
        <ion-button (click)="onItemsSelect()">
          <ion-icon name="arrow-back-outline"></ion-icon>
        </ion-button>
      </ion-buttons>
      <ion-buttons *ngIf="!selectedProduct"  slot="start">
        <ion-back-button  defaultHref="/board"></ion-back-button>
      </ion-buttons>
    </ion-item>

  </ion-toolbar>
</ion-header>

<ion-content>
   <ion-grid *ngIf="!selectedProduct">
    <ion-row>
      <ion-col ize-sm="6" offset-sm="3">
        <ion-item>
        <ion-label slot="start">
          <ion-header id="productheader">Available items: {{userPostCount}}</ion-header>
        </ion-label>
        </ion-item>
      </ion-col>
   </ion-row>
    <ion-row>
      <ion-col size-sm="6" offset-sm="3">
       <ion-slides  [options]="{ slidesPerView: 'auto', zoom: false, grabCursor: true }">
         <ion-slide *ngFor="let product of loadedProducts" style="width: 150px; height: 200px; border: 2px solid #f8f8f8">
             <ion-card (click)="onselectItem(product)">
                <!-- <ion-img style="pointer-events:none" src="https://via.placeholder.com/150"></ion-img> -->
                <img id="touched" [src]="product.productimage_set[0].image"/>
                <ion-card-content>
                              <ion-label>{{ product.title }}</ion-label>
                              <ion-label >
                               <h3 >{{ product.price |currency }}</h3>
                           </ion-label>
                </ion-card-content>
             </ion-card>
         </ion-slide>
       </ion-slides>
      </ion-col>
    </ion-row>
   </ion-grid>
   <ion-grid *ngIf="selectedProduct" >
     <ion-row>
       <ion-col  size-sm="6" offset-sm="3">
        <ion-card >
          <!-- <ion-img style="pointer-events:none" src="https://via.placeholder.com/150"></ion-img> -->
          <img id="touched" [src]="selectedProduct.productimage_set[0].image"/>
          <ion-card-content>
                        <ion-label>{{selectedProduct.title }}</ion-label>
                        <ion-label >
                         <h3 >{{ selectedProduct.price |currency }}</h3>
                     </ion-label>
          </ion-card-content>
       </ion-card>
       </ion-col>
     </ion-row>
     <ion-row>
     </ion-row>  
   </ion-grid> 

   <form [formGroup]="form">
   <ion-grid *ngIf="selectedProduct" fixed>
      <!--  <ion-col size ="12" size-sm="8" offset-sm ="2">
        <ion-item>
          <ion-label position="floating">latitude</ion-label>
          <ion-input type="text" autocomplete autocorrect formControlName="latitude"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size ="12" size-sm="8" offset-sm ="2">
        <ion-item>
          <ion-label position="floating">longitude</ion-label>
          <ion-input type="text" autocomplete autocorrect formControlName="longitude"></ion-input>
        </ion-item>
      </ion-col> -->
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
         <app-location-picker (locationPick)="onLocationPicked($event)"></app-location-picker>
        </ion-col>
      </ion-row>
   </ion-grid> 

   <ion-grid>
    <ion-row>
      <ion-col size ="12" size-sm="8" offset-sm ="2">
      <ion-button
      [disabled]="!form.valid"
      (click)="onCreatePostListing()"
      color="primary" 
      expand="block" 
      type="submit" >
       Post Listing
      </ion-button>
      </ion-col>
    </ion-row>
   </ion-grid>
   </form>
</ion-content>
