<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons   slot="start">
      <ion-back-button  defaultHref="/board/offers"></ion-back-button>
    </ion-buttons>
    <ion-title>New Listing</ion-title>
    <ion-buttons slot="primary">
      <ion-button (click)="onCreateOffer()" [disabled]="!form.valid || !form.get('image').value">
        <ion-icon name="checkmark" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-row *ngIf="!addedImage" >
    <ion-col size-sm="6" offset-sm="3">
      <ion-card>
        <ion-icon (click)="SelectImageSource()" id="ion-icons" src='assets/icon/add.svg'></ion-icon>
      </ion-card>
    </ion-col>
  </ion-row>
  <ion-row *ngIf="selectedImage">
    <ion-col>

      <ion-slides pager="true" [options]="slideOpts" >

        <ion-slide *ngFor="let photo of selectedImage">
          <div id="touchedP" (click)="onClickProdImage()" class="slide">
            <img id="touched" [src]="photo.image "/>
          </div>
          <div *ngIf="ClickedProdImage" (click)="onDelete(photo.id)" id="topplay">
            <ion-button (click)="onDelete(photo.id)"  id="btnicon">
              <ion-icon    color = "primary" id="trashicon" name="trash-outline"></ion-icon>
            </ion-button>
          </div>
        </ion-slide>

      </ion-slides>
      <!-- <ion-card *ngFor="let photo of selectedImage" >
        <img [src]="photo "/>
      </ion-card> -->
    </ion-col>
  </ion-row>
  <ion-row *ngIf="addedImage" >
    <ion-col  size-sm="6" offset-sm="3">
      <div style="text-align: center;" id="addpictCardcol">
        <ion-item no-lines lines="none" id="addpictCard">
          <ion-note slot="start" >Photos : {{ productPhotoCount }}</ion-note>
          <ion-button id="btnicon" #fileInput (click)="SelectImageSource()">
            <!-- <ion-icon  id="ion-icon-2" src='assets/icon/add.svg'></ion-icon> -->
            <ion-icon color="primary" id="ion-icon-2" name="add-circle-sharp"></ion-icon>
          </ion-button>
        </ion-item>
      </div>
    </ion-col>
  </ion-row>
  <form [formGroup]="form">
    <ion-grid fixed> 
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Title</ion-label>
            <ion-input type="text" autocomplete autocorrect formControlName="title"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating" >Short Description</ion-label>
            <ion-textarea rows="3" formControlName="description"></ion-textarea>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row *ngIf="!form.get('description').valid && form.get('description').touched">
        <ion-col size-sm="6" offset-sm="3">
           <p>Description must not be between 1 and 150 characters</p>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Price</ion-label>
            <ion-input type="number" formControlName="price"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="3" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Category</ion-label>
              <ion-input type="text" autocomplete autocorrect formControlName="category"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col size-sm="3">
          <ion-item>
            <ion-label position="floating">Slug</ion-label>
                <ion-input type="text" autocomplete autocorrect formControlName="slug"></ion-input>  
          </ion-item>
        </ion-col>
      </ion-row>
            <ion-row>
        <ion-col size-sm="3" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Available from</ion-label>
            <ion-datetime
             min="2019-01-01" 
             max="2022-12-31" 
             formControlName="dateFrom"></ion-datetime>
          </ion-item>
        </ion-col>
        <ion-col size-sm="3">
          <ion-item>
            <ion-label position="floating">Available to</ion-label>
            <ion-datetime
             min="2019-01-02" 
             max="2025-12-31" 
             formControlName="dateTo">
             </ion-datetime>
          </ion-item>
        </ion-col>
      </ion-row>
      <!-- <ion-row text-center>
        <ion-col size-sm="6" offset-sm="3">
          <app-location-picker [showPreview]="form.get('location').value" (locationPick)="onLocationPicked($event)">
          </app-location-picker>
        </ion-col>
      </ion-row>
      <ion-row text-center>
        <ion-col size-sm="6" offset-sm="3">
          <app-image-picker [showPreview]="form.get('image').value" (imagePick)="onImagePicked($event)">
          </app-image-picker>
        </ion-col>
      </ion-row> -->
    </ion-grid>
 </form>
 <ion-grid>
   <ion-row>
     <ion-col size-sm="6" offset-sm="3">
       <ion-item lines="none">
        <ion-button (click)="createProduct()" slot="start">save product</ion-button>
        <ion-button (click)="onPostProduct()" slot="end">next..Post </ion-button>
       </ion-item>
     </ion-col>
   </ion-row>
 </ion-grid>

<ion-input ></ion-input>
</ion-content>
